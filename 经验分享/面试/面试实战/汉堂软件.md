### Redis 是单线程还是多线程？

+ Redis 是单线程的，它的所有操作都是在一个线程中完成的。

+ Redis 为什么是单线程的？

    + 因为 Redis 的数据都是存储在内存中的，而内存的读写速度非常快，所以 Redis 可以通过单线程来完成所有的操作。

    + 如果 Redis 使用多线程，那么线程之间的切换会消耗一定的时间，这样反而会降低 Redis 的性能。

    + 当然，Redis 也支持多线程，但是它的多线程只是用来处理 Redis 中的 IO

### 之前工作中使用到的Django中的权限管理是如何实现的？

+ 使用Django内置的认证系统auth,可以方便地实现用户账号的注册、登录、密码修改等基本功能。

+ 基于auth,我们可以创建不同的用户组Group,表示不同的角色权限。

+ 对于访问控制,Django提供了permission系统,可以把不同权限用permission表示,并分配给不同用户组。

+ 视图函数可以使用装饰器如@permission_required来检查用户是否具有指定权限,不存在则返回403。

### 请列举Django中内置的权限

+ Django中内置的权限有：add、change、delete、view

+ 针对管理员权限:

    + auth.add_user
    + auth.change_user
    + auth.delete_user

### 如果有一个权限管理系统需要进行测试，尝试编写一套自动化测试方案进行测试？

+ 使用Selenium或Appium等自动化测试框架,编写测试脚本,通过不同用户登录系统,并执行各种权限操作,模拟真实用户场景。

+ 构建完整的测试用例,覆盖用户管理、角色管理、资源权限管理、页面访问控制等所有功能点。

+ 通过准备测试数据,预设置不同类型的用户角色、资源权限组合,设置足够的测试场景和案例。

+ 设计高风险测试用例,模拟权限漏洞或绕过场景,如管理员帐号操作、角色继承、权限穿透等情况。

+ 编写API接口的自动化测试脚本,验证各接口的权限控制逻辑。

+ 构建独立的测试环境,保证测试执行不影响线上环境。

### 垃圾回收机制

+ 垃圾回收机制应用在内存管理中，用于回收不再使用的内存空间。一句话总结就是：**引用计数器** 为主，**标记清除** 和 **分代回收** 为辅。

+ 引用计数器：Python 3 使用了引用计数机制来跟踪内存中的对象，即每个对象创建时都有一个引用计数 refcnt，当对象被引用时，它的引用计数加 1，当对象不被引用时，它的引用计数减 1，当对象的引用计数为 0 时，它就会被垃圾回收机制回收。

+ 标记清除：Python 3 中的垃圾回收机制还有一个循环垃圾回收器，主要是为了解决对象之间相互引用，导致引用计数不为 0 的情况。主要的实现方式是通过遍历以 root 为节点的有向图，如果一个对象入度为 0，那么它就是循环引用的一部分，就应该将其回收。

+ 分代回收：主要是为了解决回收机制的性能问题，控制回收的频次，是一种以时间换空间的操作方式。指的是将对象分为三代，新创建的对象为第 0 代，当第 0 代对象经过一次垃圾回收后，如果没有被回收，那么它就会被提升为第 1 代，以此类推，当第 2 代对象经过一次垃圾回收后，如果没有被回收，那么它就会被提升为第 3 代，第 3 代对象不会再被提升，当第 3 代对象经过一次垃圾回收后，如果没有被回收，那么它就会被放入到一个不可回收的列表中。

+ Python 3 中的垃圾回收机制还有一个阈值机制，当垃圾回收器检测到第 0 代对象的数量达到了阈值，那么就会执行一次垃圾回收，当垃圾回收器检测到第 1 代对象的数量达到了阈值，那么就会执行一次垃圾回收，以此类推。

    ```python
    import gc

    print(gc.get_threshold())  # 默认值 (700, 10, 10)
    gc.set_threshold(700, 10, 10)  # 设置阈值
    ```

### flask 框架中的蓝图是什么？

+ 蓝图是 flask 框架中的一个组件，它可以将一个应用程序分割成多个模块，每个模块都可以单独编写，然后注册到应用程序中。

+ 蓝图的作用是：
    
    + 1. 可以将一个复杂的应用程序划分为多个模块，每个模块可以单独管理。
    + 2. 方便代码的管理和维护。
    + 3. 可以将一个应用程序分发给多个开发人员协同开发。

+ 具体代码实现：

    ```python
    # 导入蓝图对象
    from flask import Blueprint

    # 创建蓝图对象
    app = Blueprint('app', __name__)

    # 注册蓝图对象到应用程序中
    app.register_blueprint(app)
    ```

+ 业务线：各个业务线做工具。项目管理工具、素材管理平台
